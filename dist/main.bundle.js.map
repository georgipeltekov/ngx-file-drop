{"version":3,"sources":["webpack:///./lib/ngx-drop/file-drop.component.scss","webpack:///./lib/sandbox/app/app.component.scss","webpack:///./lib/ngx-drop/file-drop.component.html","webpack:///./lib/sandbox/app/app.component.html","webpack:///./lib async","webpack:///./lib/ngx-drop/file-drop.component.ts","webpack:///./lib/ngx-drop/upload-event.model.ts","webpack:///./lib/ngx-drop/upload-file.model.ts","webpack:///./lib/sandbox/main.ts","webpack:///./lib/ngx-drop/file-drop.module.ts","webpack:///./lib/ngx-drop/index.ts","webpack:///./lib/sandbox/app/app.component.ts","webpack:///./lib/sandbox/app/app.module.ts","webpack:///./lib/sandbox/environments/environment.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".drop-zone {\\n  margin: auto;\\n  height: 100px;\\n  border: 2px dotted #0782d0;\\n  border-radius: 30px; }\\n\\n.content {\\n  color: #0782d0;\\n  height: 100px;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center; }\\n\\n.over {\\n  background-color: rgba(147, 147, 147, 0.5); }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/ngx-drop/file-drop.component.scss\n// module id = 137\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".center {\\n  margin: auto;\\n  width: 50%;\\n  border: 3px solid green;\\n  padding: 10px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/sandbox/app/app.component.scss\n// module id = 138\n// module chunks = 1","module.exports = \"<div id=\\\"dropZone\\\"  [className]=\\\"customstyle\\\" [class.over]=\\\"dragoverflag\\\"\\r\\n    (drop)=\\\"dropFiles($event)\\\"\\r\\n    (dragover)=\\\"onDragOver($event)\\\" (dragleave)=\\\"onDragLeave($event)\\\">\\r\\n    <div class=\\\"content\\\">\\r\\n        <ng-content></ng-content>\\r\\n        {{headertext}}\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/ngx-drop/file-drop.component.html\n// module id = 139\n// module chunks = 1","module.exports = \"<div class=\\\"center\\\">\\n    <file-drop headertext=\\\"Drop files here\\\" (onFileDrop)=\\\"dropped($event)\\\" (onFileOver)=\\\"fileOver($event)\\\" (onFileLeave)=\\\"fileLeave($event)\\\"></file-drop>\\n    <div class=\\\"upload-table\\\">\\n        <table class=\\\"table\\\">\\n            <thead>\\n                <tr>\\n                    <th>Name</th>\\n                </tr>\\n            </thead>\\n            <tbody class=\\\"upload-name-style\\\">\\n                <tr *ngFor=\\\"let item of files; let i=index\\\">\\n                    <td><strong>{{ item.relativePath }}</strong></td>\\n                </tr>\\n            </tbody>\\n        </table>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/sandbox/app/app.component.html\n// module id = 140\n// module chunks = 1","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 51;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib async\n// module id = 51\n// module chunks = 1","import { Component, Input, Output, EventEmitter, NgZone } from '@angular/core';\r\nimport { Subscription } from 'rxjs/Rx';\r\nimport { TimerObservable } from \"rxjs/observable/TimerObservable\";\r\n\r\nimport { UploadFile } from './upload-file.model';\r\nimport { UploadEvent } from './upload-event.model';\r\n\r\n@Component({\r\n  selector: 'file-drop',\r\n  templateUrl: './file-drop.component.html',\r\n  styleUrls: ['./file-drop.component.scss']\r\n})\r\n\r\n\r\nexport class FileComponent {\r\n\r\n  @Input()\r\n  headertext: string = \"\";\r\n  @Input()\r\n  customstyle: string = null;\r\n\r\n  @Output()\r\n  public onFileDrop: EventEmitter<UploadEvent> = new EventEmitter<UploadEvent>();\r\n  @Output()\r\n  public onFileOver: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output()\r\n  public onFileLeave: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  stack = [];\r\n  files: UploadFile[] = [];\r\n  subscription: Subscription;\r\n  dragoverflag: boolean = false;\r\n\r\n  constructor(private zone: NgZone) {\r\n    window['angularComponentRef'] = {\r\n      zone: this.zone,\r\n      traverseFileTree: (item, path) => this.traverseFileTree(item, path),\r\n      addToQueue: (item) => this.addToQueue(item),\r\n      pushToStack: (str) => this.pushToStack(str),\r\n      popToStack: () => this.popToStack(),\r\n      component: this\r\n    };\r\n    if (!this.customstyle) {\r\n      this.customstyle = \"drop-zone\";\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  public onDragOver(event: Event): void {\r\n    if (!this.dragoverflag) {\r\n      this.dragoverflag = true;\r\n      this.onFileOver.emit(event);\r\n    }\r\n    this.preventAndStop(event);\r\n  }\r\n\r\n  public onDragLeave(event: Event): void {\r\n    if (this.dragoverflag) {\r\n      this.dragoverflag = false;\r\n      this.onFileLeave.emit(event);\r\n    }\r\n    this.preventAndStop(event);\r\n  }\r\n\r\n\r\n  dropFiles(event: any) {\r\n    this.dragoverflag = false;\r\n    event.dataTransfer.dropEffect = \"copy\";\r\n    var length;\r\n    if (event.dataTransfer.items) {\r\n      length = event.dataTransfer.items.length;\r\n    } else {\r\n      length = event.dataTransfer.files.length;\r\n    }\r\n\r\n    for (var i = 0; i < length; i++) {\r\n      var entry;\r\n      if (event.dataTransfer.items) {\r\n        if (event.dataTransfer.items[i].webkitGetAsEntry) {\r\n          entry = event.dataTransfer.items[i].webkitGetAsEntry();\r\n        }\r\n      } else {\r\n        if (event.dataTransfer.files[i].webkitGetAsEntry) {\r\n          entry = event.dataTransfer.files[i].webkitGetAsEntry()\r\n        }\r\n      }\r\n\r\n      if (entry.isFile) {\r\n        let toUpload: UploadFile = new UploadFile(entry.name, entry);\r\n        this.addToQueue(toUpload);\r\n      } else if (entry.isDirectory) {\r\n        this.traverseFileTree(entry, entry.name);\r\n      }\r\n    }\r\n\r\n    this.preventAndStop(event);\r\n\r\n    let timer = TimerObservable.create(200, 200);\r\n    this.subscription = timer.subscribe(t => {\r\n      if (this.stack.length == 0) {\r\n        this.onFileDrop.emit(new UploadEvent(this.files));\r\n        this.files = [];\r\n        this.subscription.unsubscribe();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  private traverseFileTree(item, path) {\r\n\r\n    if (item.isFile) {\r\n      let toUpload: UploadFile = new UploadFile(path, item);\r\n      this.files.push(toUpload);\r\n      window['angularComponentRef'].zone.run(() => {\r\n        window['angularComponentRef'].popToStack();\r\n      });\r\n    } else {\r\n      this.pushToStack(path);\r\n      path = path + \"/\";\r\n      var dirReader = item.createReader();\r\n      let entries = [];\r\n\r\n      let readEntries = function () {\r\n        dirReader.readEntries(function (res) {\r\n          if (!res.length) {\r\n            //add empty folders\r\n            if (entries.length == 0) {\r\n              let toUpload: UploadFile = new UploadFile(path, item);\r\n              window['angularComponentRef'].zone.run(() => {\r\n                window['angularComponentRef'].addToQueue(toUpload);\r\n              });\r\n            } else {\r\n              for (var i = 0; i < entries.length; i++) {\r\n                window['angularComponentRef'].zone.run(() => {\r\n                  window['angularComponentRef'].traverseFileTree(entries[i], path + entries[i].name);\r\n                });\r\n              }\r\n            }\r\n            window['angularComponentRef'].zone.run(() => {\r\n              window['angularComponentRef'].popToStack();\r\n            });\r\n          } else {\r\n            //continue with the reading\r\n            entries = entries.concat(res);\r\n            readEntries();\r\n          }\r\n        });\r\n      }\r\n\r\n      readEntries();\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  private addToQueue(item) {\r\n    this.files.push(item);\r\n  }\r\n\r\n  pushToStack(str) {\r\n    this.stack.push(str);\r\n  }\r\n\r\n  popToStack() {\r\n    var value = this.stack.pop();\r\n  }\r\n\r\n  private clearQueue() {\r\n    this.files = [];\r\n  }\r\n\r\n  private preventAndStop(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ngx-drop/file-drop.component.ts","import { UploadFile } from './upload-file.model';\r\n\r\nexport class UploadEvent {\r\n    constructor(\r\n        public files: UploadFile[]) {\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/ngx-drop/upload-event.model.ts","\r\nexport class UploadFile {\r\n    constructor(\r\n        public relativePath: string,\r\n        public fileEntry: any) {\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/ngx-drop/upload-file.model.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sandbox/main.ts","import { NgModule } from '@angular/core';\r\nimport {FileComponent} from './file-drop.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FileComponent,\r\n  ],\r\n  exports: [FileComponent],\r\n  imports: [],\r\n  providers: [],\r\n  bootstrap: [FileComponent],\r\n})\r\nexport class FileDropModule {}\n\n\n// WEBPACK FOOTER //\n// ./lib/ngx-drop/file-drop.module.ts","export * from './file-drop.component'\r\nexport * from './file-drop.module'\r\nexport * from './upload-file.model'\r\nexport * from './upload-event.model'\n\n\n// WEBPACK FOOTER //\n// ./lib/ngx-drop/index.ts","import { Component } from '@angular/core';\nimport { UploadFile, UploadEvent } from '../../ngx-drop';\n\n@Component({\n  selector: 'demo-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  public files: UploadFile[] = [];\n\n  public dropped(event: UploadEvent) {\n    this.files = event.files;\n    for (var file of event.files) {\n      file.fileEntry.file(info => {\n        console.log(info);\n      });\n    }\n  }\n\n  public fileOver(event){\n    console.log(event);\n  }\n\n  public fileLeave(event){\n    console.log(event);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sandbox/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { FileDropModule } from '../../ngx-drop';\n\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FileDropModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sandbox/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sandbox/environments/environment.ts"],"sourceRoot":""}